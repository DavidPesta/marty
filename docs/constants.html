<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Constants | marty.js</title>
  <meta name="viewport" content="width=device-width">

  <link rel="shortcut icon" href="/favicon.ico?v=1" type="image/x-icon">

  <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="/css/codemirror.css">
  <link rel="stylesheet" type="text/css" href="/css/docs.css">

  <script type="text/javascript" src="/js/codemirror.js"></script>
</head>
<body>
  <header class="navbar navbar-static-top bs-docs-nav" id="top" role="banner">
    <div class="container">
      <div class="navbar-header">
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="/" class="navbar-brand">marty.js</a>
      </div>
      <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
        <ul class="nav navbar-nav">
          <li>
            <a href="/getting-started/">Getting started</a>
          </li>
          <li>
            <a href="/docs">Documentation</a>

            <ul class="nav sub-nav visible-xs-block">
              
              
              
                
                  
                
              
                
                  
                
              
                
                  
                    
                    <li><a href="/docs/index.html">Overview</a></li>
                    
                  
                
              
                
                  
                    
                    <li><a href="/docs/stores.html">Stores</a></li>
                    
                  
                
              
                
                  
                    
                    <li><a href="/docs/actionCreators.html">Action Creators</a></li>
                    
                  
                
              
                
                  
                    
                    <li><a href="/docs/stateMixin.html">State mixin</a></li>
                    
                  
                
              
                
                  
                    
                    <li><a href="/docs/httpApi.html">HTTP API</a></li>
                    
                  
                
              
                
                  
                    
                    <li class="active"><a href="/docs/constants.html" class="active">Constants</a></li>
                    
                  
                
              
                
                  
                    
                    <li><a href="/docs/dispatcher.html">Dispatcher</a></li>
                    
                  
                
              
              
              
            </ul>
          </li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li>
            <a href="http://github.com/jhollingworth/marty">
              <i class="fa fa-github"></i>
              Github
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>
  <div class="bs-docs-header" id="content"  style="background-color: #433B46">
  <div class="container">
    <h1>Constants</h1>
    <p>Showing you what actions your application is capable of</p>
  </div>
</div>
<div class="container bs-docs-container">
  <div class="row">
    <div class="col-md-9" role="main">
      <div class="bs-docs-section">
        <p><a href="/docs/actionCreators.html">Actions</a> must have a type which is a terse description of what the action does (e.g. <code>&quot;DELETE_USER&quot;</code>). The main of action types is that they allow you to loosely couple your actions to your stores (<a href="http://en.wikipedia.org/wiki/Law_of_Demeter">Law of Dementer</a>).</p>

<p>As your application grows you might find it becomes littered with these strings making it difficult to refactor and understand at a high level what actions are available. Marty provides <strong>Constants</strong> as a solution to this problem. </p>

<p><code>Marty.createConstants</code> will create an object literal where the key is the action type</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">UserConstants</span> <span class="o">=</span> <span class="nx">Marty</span><span class="p">.</span><span class="nx">createConstants</span><span class="p">([</span>
  <span class="s2">"ADD_USER"</span><span class="p">,</span>
  <span class="s2">"DELETE_USER"</span><span class="p">,</span>
  <span class="s2">"UPDATE_USER_EMAIL"</span>
<span class="p">]);</span>

<span class="c1">// returns</span>
<span class="p">{</span>
  <span class="na">ADD_USER</span><span class="p">:</span> <span class="p">..,</span>
  <span class="na">DELETE_USER</span><span class="p">:</span> <span class="p">..,</span>
  <span class="na">UPDATE_USER_EMAIL</span><span class="p">:</span> <span class="p">..,</span>
<span class="p">}</span></code></pre></div>

<p>The value for each constant is a little more complex. It can be treated as a string however they are actually helper functions for creating action creators</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">UserConstants</span><span class="p">.</span><span class="nx">ADD_USER</span> <span class="o">==</span> <span class="s2">"ADD_USER"</span> <span class="c1">// =&gt; true</span>

<span class="kd">var</span> <span class="nx">addUser</span> <span class="o">=</span> <span class="nx">UserConstants</span><span class="p">.</span><span class="nx">ADD_USER</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">user</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">addUser</span><span class="p">.</span><span class="nx">properties</span><span class="p">)</span> <span class="c1">// =&gt; { type: "ADD_USER" }</span>

<span class="nx">addUser</span><span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="s2">"Foo"</span> <span class="p">});</span></code></pre></div>

<p>You can pass in custom properties as the second argument to action creator helper function</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">UserActionCreators</span> <span class="o">=</span> <span class="nx">Marty</span><span class="p">.</span><span class="nx">createActionCreators</span><span class="p">({</span>
  <span class="na">deleteUser</span><span class="p">:</span> <span class="nx">UserConstants</span><span class="p">.</span><span class="nx">DELETE_USER</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="nx">user</span><span class="p">);</span>
  <span class="p">},</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="kc">true</span> <span class="p">})</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">FooStore</span> <span class="o">=</span> <span class="nx">Marty</span><span class="p">.</span><span class="nx">createStore</span><span class="p">({</span>
  <span class="na">handlers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">fooAction</span><span class="p">:</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">fooAction</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="p">...</span>
  <span class="p">}</span>
<span class="p">})</span></code></pre></div>

<p>We found that a lot of the time action creators just dispatched any arguments it was invoked with. Constants can automatically generate that function for you, all you need to do is not pass in a function as the first argument</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">UserActionCreators</span> <span class="o">=</span> <span class="nx">Marty</span><span class="p">.</span><span class="nx">createActionCreators</span><span class="p">({</span>
  <span class="na">deleteUser</span><span class="p">:</span> <span class="nx">UserConstants</span><span class="p">.</span><span class="nx">DELETE_USER</span><span class="p">(),</span>

  <span class="c1">// Same as</span>
  <span class="na">deleteUser</span><span class="p">:</span> <span class="nx">UserConstants</span><span class="p">.</span><span class="nx">DELETE_USER</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="nx">user</span><span class="p">);</span>
  <span class="p">})</span>
<span class="p">});</span></code></pre></div>

<h2 id="api">API</h2>

<h3 id="createConstantsArray">createConstants(<i>Array</i>)</h3>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">Constants</span> <span class="o">=</span> <span class="nx">Marty</span><span class="p">.</span><span class="nx">createConstants</span><span class="p">([</span>
  <span class="s1">'RECEIVE_USERS'</span><span class="p">,</span>
  <span class="s1">'DELETE_USER'</span>
<span class="p">]);</span>

<span class="c1">//returns</span>
<span class="p">{</span>
  <span class="na">RECEIVE_USERS</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">RECEIVE_USERS_CREATOR</span><span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="p">},</span>
  <span class="nx">DELETE_USER</span><span class="err">:</span> <span class="kd">function</span> <span class="nx">DELETE_USER_CREATOR</span><span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
<span class="p">}</span></code></pre></div>

<h3 id="createConstantsObj">Marty.createConstants(<i>Object</i>)</h3>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">Constants</span> <span class="o">=</span> <span class="nx">Marty</span><span class="p">.</span><span class="nx">createConstants</span><span class="p">([</span>
  <span class="nx">Users</span><span class="err">:</span> <span class="p">[</span><span class="s1">'RECEIVE_USERS'</span><span class="p">,</span> <span class="s1">'DELETE_USER'</span><span class="p">],</span>
  <span class="nx">Foos</span><span class="err">:</span> <span class="p">{</span>
    <span class="nl">Bars</span><span class="p">:</span> <span class="p">[</span><span class="s1">'ADD_BAR'</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">]);</span>

<span class="c1">//returns</span>
<span class="p">{</span>
  <span class="na">Users</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">RECEIVE_USERS</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">RECEIVE_USERS_CREATOR</span><span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="p">},</span>
    <span class="na">DELETE_USER</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">DELETE_USER_CREATOR</span><span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">Foos</span><span class="err">:</span> <span class="p">{</span>
    <span class="nl">Bars</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">ADD_BAR</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">ADD_BAR_CREATOR</span><span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></div>

      </div>
    </div>
    <div class="col-md-3">
      <div class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix-top" role="complementary">
        <ul class="nav bs-docs-sidenav">
          
          
          
            
              
            
          
            
              
            
          
            
              
                
                <li><a href="/docs/index.html">Overview</a></li>
                
              
            
          
            
              
                
                <li><a href="/docs/stores.html">Stores</a></li>
                
              
            
          
            
              
                
                <li><a href="/docs/actionCreators.html">Action Creators</a></li>
                
              
            
          
            
              
                
                <li><a href="/docs/stateMixin.html">State mixin</a></li>
                
              
            
          
            
              
                
                <li><a href="/docs/httpApi.html">HTTP API</a></li>
                
              
            
          
            
              
                
                <li class="active"><a href="/docs/constants.html" class="active">Constants</a></li>
                
              
            
          
            
              
                
                <li><a href="/docs/dispatcher.html">Dispatcher</a></li>
                
              
            
          
          
          
        </ul>
      </div>
    </div>
</div>

  <footer class="bs-docs-footer" role="contentinfo">
    <div class="container">
      <p>Code licensed under <a href="https://github.com/jhollingworth/marty/blob/master/LICENSE" target="_blank">MIT</a>, documentation under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p>
      <ul class="bs-docs-footer-links muted">
        <li>v0.7.0</li>
        <li>·</li>
        <li><a href="https://github.com/jhollingworth/marty">GitHub</a></li>
        <li>·</li>
        <li><a href="https://github.com/jhollingworth/marty/issues">Issues</a></li>
        <li>·</li>
        <li><a href="https://github.com/jhollingworth/marty/releases">Releases</a></li>
      </ul>
    </div>
  </footer>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-56575082-1', 'auto');
    ga('send', 'pageview');

  </script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script type="text/javascript" src="/js/headings.js"></script>
  <script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
</body>
</html>